(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{167:function(e,t,n){"use strict";n.r(t);n(67),n(68),n(12),n(36);var r={created:function(){var e;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this,t.next=3,regeneratorRuntime.awrap(e.initDmp());case 3:e.bindEvent(window,"message",(function(t){return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:if("log"!=t.data.event){n.next=3;break}return n.next=3,regeneratorRuntime.awrap(e.$axios.post("/collect",t.data.data));case 3:case"end":return n.stop()}}))}));case 4:case"end":return t.stop()}}),null,this)},methods:{bindEvent:function(element,e,t){return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!element.addEventListener){n.next=5;break}return n.next=3,regeneratorRuntime.awrap(element.addEventListener(e,t,!1));case 3:n.next=8;break;case 5:if(!element.attachEvent){n.next=8;break}return n.next=8,regeneratorRuntime.awrap(element.attachEvent("on"+e,t));case 8:case"end":return n.stop()}}))},sendMessage:function(e){return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(window.parent.postMessage(e,"*"));case 2:case"end":return t.stop()}}))},initDmp:function(){var e,t,n,r,o,c;return regeneratorRuntime.async((function(d){for(;;)switch(d.prev=d.next){case 0:return e=this,(t=window.localStorage.getItem("anonymousId"))||(n=(new Date).getTime()/1e3|0,o=(r=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)})()+r()+"-"+r()+"-"+r()+"-"+r()+"-"+r()+r()+r()+"-tmp-"+n,t=o,window.localStorage.setItem("anonymousId",t)),d.prev=3,d.next=6,regeneratorRuntime.awrap(e.$axios.get("https://go.gtmjs.com/ip"));case 6:if(c=d.sent){d.next=11;break}return d.next=10,regeneratorRuntime.awrap(e.$axios.get("https://api.ipify.org"));case 10:c=d.sent;case 11:return d.next=13,regeneratorRuntime.awrap(e.sendMessage({action:"initDmp",ipAddress:c.data,anonymousId:t}));case 13:d.next=19;break;case 15:return d.prev=15,d.t0=d.catch(3),d.next=19,regeneratorRuntime.awrap(e.sendMessage({action:"initDmp",ipAddress:"",anonymousId:t}));case 19:case"end":return d.stop()}}),null,this,[[3,15]])}}},o=n(48),component=Object(o.a)(r,(function(){var e=this.$createElement;return(this._self._c||e)("div")}),[],!1,null,null,null);t.default=component.exports}}]);